# Release Checklist

This document contains the steps to publish a new release.

## Pre-Release Checklist

- [ ] All features tested and working
- [ ] No open critical bugs
- [ ] Documentation updated
  - [ ] README.md reflects current version
  - [ ] addon/README.md in sync
- [ ] Version numbers updated
  - [ ] README.md (bottom)
  - [ ] PKGBUILD (pkgver)

## GitHub Release Steps

### 1. Create Git Tag

```bash
VERSION="0.1.1"
git tag -a "v$VERSION" -m "Release version $VERSION"
git push origin "v$VERSION"
```

### 2. Create GitHub Release

1. Go to: https://github.com/Maik-0000FF/schnelle-umlaute/releases/new

2. Select tag: `v0.1.1`

3. Release title: `v0.1.1 - Quick Umlaut Input for Fcitx5`

4. Description template:

```markdown
## What's New

[Describe major changes]

## Features

- Hold + Wait pattern for German umlauts (ä, ö, ü, ß)
- Adaptive timing: 400ms for lowercase, 700ms for uppercase
- No clipboard interference
- Works on X11 and Wayland
- Native Fcitx5 integration

## Installation

### Quick Start (Recommended)

```bash
git clone https://github.com/Maik-0000FF/schnelle-umlaute.git
cd schnelle-umlaute
./install.sh
```

See [README.md](https://github.com/Maik-0000FF/schnelle-umlaute#-installation) for detailed instructions.

### AUR

Coming soon!

## Requirements

- Arch Linux (or compatible distro)
- Fcitx5
- CMake, extra-cmake-modules, GCC (C++20)

## Changelog

[List specific changes, bug fixes, improvements]

## Known Issues

[List any known issues or limitations]

---

Full documentation: https://github.com/Maik-0000FF/schnelle-umlaute
```

5. Attach files (optional):
   - Source code (auto-generated by GitHub)
   - Pre-built binary (if applicable)

6. Click "Publish release"

## Post-Release Steps

### Update AUR Package

1. Clone AUR repository:
```bash
git clone ssh://aur@aur.archlinux.org/schnelle-umlaute-fcitx5.git aur-schnelle-umlaute
cd aur-schnelle-umlaute
```

2. Copy PKGBUILD:
```bash
cp ../PKGBUILD .
```

3. Update sha256sum:
```bash
# Download the release tarball
VERSION="0.1.1"
curl -L "https://github.com/Maik-0000FF/schnelle-umlaute/archive/refs/tags/v$VERSION.tar.gz" -o source.tar.gz

# Generate checksum
sha256sum source.tar.gz

# Update PKGBUILD with the checksum
# Replace SKIP with actual hash
```

4. Generate .SRCINFO:
```bash
makepkg --printsrcinfo > .SRCINFO
```

5. Test build:
```bash
makepkg -si
```

6. Commit and push:
```bash
git add PKGBUILD .SRCINFO
git commit -m "Update to version $VERSION"
git push
```

### Announce Release

Consider announcing on:
- [ ] Reddit: r/archlinux, r/linux
- [ ] Fcitx5 community forums
- [ ] Personal blog/social media

### Monitor Issues

- [ ] Watch GitHub issues for bug reports
- [ ] Respond to AUR comments
- [ ] Update documentation based on user feedback

## Version Numbering

We follow Semantic Versioning (semver):

- **MAJOR.MINOR.PATCH** (e.g., 1.2.3)
  - **MAJOR**: Breaking changes
  - **MINOR**: New features (backward compatible)
  - **PATCH**: Bug fixes

Current version: **0.1.1** (Pre-release, still stabilizing API)

## Release Notes Template

For future releases, use this structure:

```markdown
# Release v0.2.0

## New Features
- Feature 1
- Feature 2

## Bug Fixes
- Fix for issue #123
- Fix for issue #456

## Improvements
- Performance improvement in X
- Better error handling for Y

## Breaking Changes
- Changed behavior of Z (if any)

## Migration Guide
(If breaking changes exist)

## Contributors
- @username1
- @username2
```

## Rollback Procedure

If a release has critical bugs:

1. Delete GitHub release (if not yet widely distributed)
2. Delete git tag:
   ```bash
   git tag -d v0.1.1
   git push origin :refs/tags/v0.1.1
   ```
3. Fix bugs on main branch
4. Create new patch release (e.g., v0.1.2)

## Notes

- Always test on clean system before releasing
- Keep AUR package in sync with GitHub releases
- Update all documentation before release
- Never release with known critical bugs
